<!DOCTYPE html>
<html>
<head>
    <title>Title</title>
    <meta charset="utf-8" />
    <style>
        body{
            padding: 10px;
            margin: 0;
            font-family: Arial;
        }
        img{
            display: block;
            margin-bottom: 10px;
        }
        a{
            text-decoration: none;
            color: #3af;
        }
    </style>
</head>
<body>
Тут можно взять иконки: <a href="https://www.iconfinder.com">iconfinder.com</a>
<table>
    <tr>
        <td><label>Имга: </label></td>
        <td><input type="text" id="badge-image" value=""></td>
    </tr>
    <tr>
        <td><label>Заголовок: </label></td>
        <td><input type="text" id="badge-title" value="Название ачивки"></td>
    </tr>
    <tr>
        <td><label>Описание: </label></td>
        <td><input type="text" id="badge-description" value="Описание"></td>
    </tr>
    <tr>
        <td><label>Сколько получил? </label></td>
        <td><input type="text" id="badge-get" value="40"></td>
    </tr>
    <tr>
        <td><label>Сколько всего? </label></td>
        <td><input type="text" id="badge-total" value="100"></td>
    </tr>
</table>

<img src="" id="xbox" width="670" height="64">
<img src="" id="yandex" width="670" height="64">
<script>

    function canvasRadius(ctx, x, y, w, h, tl, tr, br, bl){
        var r = x + w,
                b = y + h;

        tr = tr || tl;
        br = br || tl;
        bl = bl || tl;

        ctx.beginPath();
        ctx.moveTo(x + tl,y);
        ctx.lineTo(r - tr, y);
        ctx.arcTo(r, y, r, tr + y, tr);
        ctx.lineTo(r, b - br);
        ctx.arcTo(r, b, r - br, b, br);
        ctx.lineTo(x + bl, b);
        ctx.arcTo(x, b, x, b - bl, bl);
        ctx.lineTo(x, y + tl);
        ctx.arcTo(x, y, x + tl, y, tl);
        ctx.fill();

    }

    function fillXbox(params) {
        params.image = params.image || 'https://cdn1.iconfinder.com/data/icons/logotypes/32/badge-html-5-48.png';
        params.status[1] = params.status[1] || 0;
        params.status[0] = params.status[0] || 0;

        params.status[0] = Math.abs(params.status[0]);
        params.status[1] = Math.abs(params.status[1]);

        params.status[0] = params.status[0] > params.status[1] ? params.status[1] : params.status[0];

        var canvas = document.createElement('canvas'),
            ctx = canvas.getContext('2d'),
            image = new Image(),
            filled = params.status[0] / params.status[1],
            textAddition = 0;

        canvas.width = params.width || 670;
        canvas.height = params.width || 64;

        ctx.fillStyle = '#4E4E4E';
        canvasRadius(ctx, 0, 0, 670, 64, 4);

        if (!params.status[0] && params.status[1]) {
            textAddition = 10;
        } else {
            ctx.fillStyle = '#3E3E3E';
            ctx.fillRect(70, 42, 485, 13);
            ctx.fillStyle = '#F1EDC8';
            ctx.fillRect(70, 42, 485 * filled, 13);

            ctx.fillStyle = '#fff';
            ctx.font = 'bold 11px verdana';
            ctx.fillText(params.status[0] + '/' + params.status[1], 567, 52);
        }


        if (!params.description) {
            textAddition += 8;
        } else {
            ctx.fillStyle = '#fff';
            ctx.font = 'normal 11px verdana';
            ctx.fillText(params.description, 72, 34 + textAddition);
        }

        ctx.fillStyle = '#AEBD7C';
        ctx.font = 'bold 12px verdana';
        ctx.fillText(params.title, 72, 18 + textAddition);

        ctx.fillStyle = '#3D3D3B';
        ctx.fillRect(4, 4, 56, 56);

        image.crossOrigin = "anonymous";
        image.onload = function() {
            ctx.drawImage(this, 8, 8, 48, 48);
            document.getElementById(params.id).src = canvas.toDataURL();
        };
        image.src = params.image;

        canvas.addEventListener('click', function () {
            open(canvas.toDataURL())
        })

    }

    function fillYandex(params) {
        params.image = params.image || 'https://cdn1.iconfinder.com/data/icons/logotypes/32/badge-html-5-48.png';
        params.status[1] = params.status[1] || 0;
        params.status[0] = params.status[0] || 0;

        params.status[0] = Math.abs(params.status[0]);
        params.status[1] = Math.abs(params.status[1]);

        params.status[0] = params.status[0] > params.status[1] ? params.status[1] : params.status[0];

        var canvas = document.createElement('canvas'),
            ctx = canvas.getContext('2d'),
            image = new Image(),
            filled = params.status[0] / params.status[1],
            textAddition = 0;

        canvas.width = params.width || 670;
        canvas.height = params.width || 64;

        ctx.fillStyle = '#ffdb4d';

        var arr = 15;
        ctx.beginPath();
        ctx.moveTo(0, 0);
        ctx.lineTo(670 - arr, 0);
        ctx.lineTo(670, 32);
        ctx.lineTo(670 - arr, 64);
        ctx.lineTo(0, 64);
        ctx.fill();


        if (!params.status[0] && params.status[1]) {
            textAddition = 10;
        } else {
            ctx.fillStyle = '#fff';
            ctx.fillRect(70, 42, 485, 13);
            ctx.fillStyle = '#FF0000';
            ctx.fillRect(70, 42, 485 * filled, 13);

            ctx.fillStyle = '#000';
            ctx.font = 'bold 11px verdana';
            ctx.fillText(params.status[0] + '/' + params.status[1], 567, 52);
        }

        if (!params.description) {
            textAddition += 8;
        } else {
            ctx.fillStyle = '#666';
            ctx.font = 'normal 11px verdana';
            ctx.fillText(params.description, 72, 34 + textAddition);
        }

        ctx.fillStyle = 'rgba(0, 0, 0,.2)';
        ctx.fillRect(4, 4, 56, 56);

        ctx.fillStyle = '#000';
        ctx.font = 'bold 12px verdana';
        ctx.fillText(params.title, 72, 18 + textAddition);

        image.crossOrigin = "anonymous";
        image.onload = function() {
            ctx.drawImage(this, 8, 8, 48, 48);
            document.getElementById(params.id).src = canvas.toDataURL();
        };
        image.src = params.image;

        canvas.addEventListener('click', function () {
            open(canvas.toDataURL())
        })

    }

    var inputs = document.getElementsByTagName('input');

    for (var i = 0; i < inputs.length; i++) {
        inputs[i].addEventListener('input', updateBadge);
    }

    updateBadge();

    function updateBadge() {
        var image = document.getElementById('badge-image').value,
            title = document.getElementById('badge-title').value,
            description = document.getElementById('badge-description').value,
            badgeGet = parseInt(document.getElementById('badge-get').value),
            total = parseInt(document.getElementById('badge-total').value);

        fillXbox({
            id: 'xbox',
            image: image,
            status: [badgeGet, total],
            title: title,
            description: description
        });

        fillYandex({
            id: 'yandex',
            image: image,
            status: [badgeGet, total],
            title: title,
            description: description
        });
    }

</script>
</body>
</html>